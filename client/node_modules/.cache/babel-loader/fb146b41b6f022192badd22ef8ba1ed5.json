{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Irynka\\\\Documents\\\\devoveryApp\\\\client\\\\src\\\\components\\\\App.jsx\";\nimport { Component } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport FetchProducts from './API/Api';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport LoaderSpinner from './Loader/Loader'; // import Modal from './Modal/Modal';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      query: '',\n      imagesList: [],\n      page: 1,\n      button: false,\n      loading: false\n    };\n\n    this.getImages = () => {\n      FetchProducts().then(imagesList => {\n        //     this.setState({loading: true})\n        //     if(imagesList.length===0){\n        // toast.error(`No images for ${this.state.query}`)\n        //     }\n        //     if(imagesList.length>=12){\n        //       this.setState({button: true})\n        //     }else{\n        //       this.setState({button: false})}\n        this.setState({\n          imagesList\n        });\n      }).catch(error => console.log(error)).finally(() => {\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.handlerFormSubmit = query => {\n      this.setState({\n        query: query,\n        page: 1,\n        imagesList: []\n      }); // this.getImages()\n    };\n\n    this.onLoadMoreClick = () => {\n      this.getImages();\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    if (prevQuery !== nextQuery) {\n      this.getImages();\n    }\n  }\n\n  render() {\n    const {\n      imagesList,\n      button,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.handlerFormSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), imagesList && /*#__PURE__*/_jsxDEV(ImageGallery, {\n        imagesList: imagesList,\n        modalImage: this.openModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this), loading && /*#__PURE__*/_jsxDEV(LoaderSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 18\n      }, this), button && /*#__PURE__*/_jsxDEV(ButtonLoadMore, {\n        onClick: this.onLoadMoreClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 6\n    }, this);\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["C:/Users/Irynka/Documents/devoveryApp/client/src/components/App.jsx"],"names":["Component","toast","ToastContainer","FetchProducts","Searchbar","ImageGallery","ButtonLoadMore","LoaderSpinner","App","state","query","imagesList","page","button","loading","getImages","then","setState","catch","error","console","log","finally","handlerFormSubmit","onLoadMoreClick","componentDidUpdate","prevProps","prevState","prevQuery","nextQuery","render","openModal"],"mappings":";AAAA,SAASA,SAAT,QAAyB,OAAzB;AACA,SAASC,KAAT,EAAgBC,cAAhB,QAAqC,gBAArC;AACA,OAAO,uCAAP;AAGA,OAAOC,aAAP,MAA0B,WAA1B;AAEA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,cAAP,MAA2B,iBAA3B;AACA,OAAOC,aAAP,MAA0B,iBAA1B,C,CACA;;;;AAGA,MAAMC,GAAN,SAAkBR,SAAlB,CAA2B;AAAA;AAAA;AAAA,SAC1BS,KAD0B,GACnB;AACLC,MAAAA,KAAK,EAAE,EADF;AAELC,MAAAA,UAAU,EAAE,EAFP;AAGLC,MAAAA,IAAI,EAAE,CAHD;AAILC,MAAAA,MAAM,EAAE,KAJH;AAKLC,MAAAA,OAAO,EAAE;AALJ,KADmB;;AAAA,SAmB3BC,SAnB2B,GAmBjB,MAAI;AACbZ,MAAAA,aAAa,GACXa,IADF,CACQL,UAAD,IAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI,aAAKM,QAAL,CAAc;AAACN,UAAAA;AAAD,SAAd;AAA4B,OAV/B,EAWEO,KAXF,CAWQC,KAAK,IAAGC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAXhB,EAYEG,OAZF,CAYU,MAAM;AAEb,aAAKL,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD,OAfF;AAgBA,KApC0B;;AAAA,SAsC1BS,iBAtC0B,GAsCLb,KAAD,IAAS;AAC5B,WAAKO,QAAL,CAAc;AACZP,QAAAA,KAAK,EAAEA,KADK;AAEZE,QAAAA,IAAI,EAAE,CAFM;AAGdD,QAAAA,UAAU,EAAC;AAHG,OAAd,EAD4B,CAM5B;AAEA,KA9CyB;;AAAA,SAgD1Ba,eAhD0B,GAgDV,MAAI;AAGpB,WAAKT,SAAL;AAEC,KArDyB;AAAA;;AAU1BU,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACxC,UAAMC,SAAS,GAAGD,SAAS,CAACjB,KAA5B;AACA,UAAMmB,SAAS,GAAG,KAAKpB,KAAL,CAAWC,KAA7B;;AACA,QAAIkB,SAAS,KAAKC,SAAlB,EAA6B;AAC3B,WAAKd,SAAL;AACC;AAEF;;AAyCDe,EAAAA,MAAM,GAAE;AACN,UAAM;AAACnB,MAAAA,UAAD;AAAaE,MAAAA,MAAb;AAAqBC,MAAAA;AAArB,QAA+B,KAAKL,KAA1C;AACF,wBACG;AAAA,8BAQD,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,cARC,eASD,QAAC,SAAD;AAAW,QAAA,QAAQ,EAAE,KAAKc;AAA1B;AAAA;AAAA;AAAA;AAAA,cATC,EAUAZ,UAAU,iBACX,QAAC,YAAD;AACC,QAAA,UAAU,EAAGA,UADd;AAEC,QAAA,UAAU,EAAE,KAAKoB;AAFlB;AAAA;AAAA;AAAA;AAAA,cAXC,EAcCjB,OAAO,iBAAI,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,cAdZ,EAeCD,MAAM,iBAAI,QAAC,cAAD;AACX,QAAA,OAAO,EAAI,KAAKW;AADL;AAAA;AAAA;AAAA;AAAA,cAfX;AAAA;AAAA;AAAA;AAAA;AAAA,YADH;AAoBD;;AAhF0B;;AAiF1B;AAED,eAAehB,GAAf","sourcesContent":["import { Component} from 'react';\nimport { toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nimport FetchProducts from './API/Api';\n\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport LoaderSpinner from './Loader/Loader';\n// import Modal from './Modal/Modal';\n\n\nclass App extends Component{\n state ={\n   query: '',\n   imagesList: [],\n   page: 1,\n   button: false,\n   loading: false,\n   \n }\n\n componentDidUpdate(prevProps, prevState) {\n  const prevQuery = prevState.query;\n  const nextQuery = this.state.query;\n  if (prevQuery !== nextQuery) {\n    this.getImages();\n    }\n   \n  }\n\ngetImages=()=>{\n FetchProducts()\n  .then((imagesList) => {\n//     this.setState({loading: true})\n//     if(imagesList.length===0){\n// toast.error(`No images for ${this.state.query}`)\n//     }\n//     if(imagesList.length>=12){\n//       this.setState({button: true})\n//     }else{\n//       this.setState({button: false})}\n    this.setState({imagesList})})\n  .catch(error=> console.log(error))\n  .finally(() => {\n    \n    this.setState({ loading: false });\n  });\n}\n\n handlerFormSubmit = (query)=>{\n  this.setState({\n    query: query,\n    page: 1,\n  imagesList:[],\n  })\n  // this.getImages()\n  \n }\n\n onLoadMoreClick=()=>{\n\n   \n this.getImages()\n\n }\n\n\n \n \n  render(){\n    const {imagesList, button, loading}= this.state\n  return (\n     <div>\n      {/* {showModal &&\n      //  (<Modal\n      //  onClose={this.toggleModal}>\n      //   <img src={modalImage}\n      //   alt ='largeImg'/>\n      //   </Modal>)\n      //    } */}\n    <ToastContainer />\n    <Searchbar onSubmit={this.handlerFormSubmit}/>\n    {imagesList &&(\n    <ImageGallery\n     imagesList ={imagesList}\n     modalImage={this.openModal}/>)}\n     {loading && <LoaderSpinner />}\n     {button && <ButtonLoadMore \n     onClick = {this.onLoadMoreClick}/>}\n    </div>\n  );\n}\n};\n\nexport default App"]},"metadata":{},"sourceType":"module"}
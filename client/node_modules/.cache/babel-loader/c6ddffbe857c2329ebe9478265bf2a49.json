{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Irynka\\\\Documents\\\\devoveryApp\\\\client\\\\src\\\\components\\\\App.jsx\";\nimport { Component } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { FetchImages } from './API/Api';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport LoaderSpinner from './Loader/Loader'; // import Modal from './Modal/Modal';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      query: '',\n      imagesList: [],\n      page: 1,\n      button: false,\n      loading: false\n    };\n\n    this.getImages = () => {\n      FetchImages().then(imagesList => {\n        this.setState({\n          loading: true\n        });\n\n        if (imagesList.length === 0) {\n          toast.error(`No images for ${this.state.query}`);\n        }\n\n        if (imagesList.length >= 12) {\n          this.setState({\n            button: true\n          });\n        } else {\n          this.setState({\n            button: false\n          });\n        }\n\n        this.setState(prevState => ({\n          page: prevState.page + 1,\n          imagesList: [...prevState.imagesList, ...imagesList]\n        }));\n      }).catch(error => console.log(error)).finally(() => {\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.handlerFormSubmit = query => {\n      this.setState({\n        query: query,\n        page: 1,\n        imagesList: []\n      }); // this.getImages()\n    };\n\n    this.onLoadMoreClick = () => {\n      this.getImages();\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    if (prevQuery !== nextQuery) {\n      this.getImages();\n    }\n  }\n\n  render() {\n    const {\n      imagesList,\n      button,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.handlerFormSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 5\n      }, this), imagesList && /*#__PURE__*/_jsxDEV(ImageGallery, {\n        imagesList: imagesList,\n        modalImage: this.openModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this), loading && /*#__PURE__*/_jsxDEV(LoaderSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 18\n      }, this), button && /*#__PURE__*/_jsxDEV(ButtonLoadMore, {\n        onClick: this.onLoadMoreClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 6\n    }, this);\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["C:/Users/Irynka/Documents/devoveryApp/client/src/components/App.jsx"],"names":["Component","toast","ToastContainer","FetchImages","Searchbar","ImageGallery","ButtonLoadMore","LoaderSpinner","App","state","query","imagesList","page","button","loading","getImages","then","setState","length","error","prevState","catch","console","log","finally","handlerFormSubmit","onLoadMoreClick","componentDidUpdate","prevProps","prevQuery","nextQuery","render","openModal"],"mappings":";AAAA,SAASA,SAAT,QAAyB,OAAzB;AACA,SAASC,KAAT,EAAgBC,cAAhB,QAAqC,gBAArC;AACA,OAAO,uCAAP;AAGA,SAASC,WAAT,QAA4B,WAA5B;AAEA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,cAAP,MAA2B,iBAA3B;AACA,OAAOC,aAAP,MAA0B,iBAA1B,C,CACA;;;;AAGA,MAAMC,GAAN,SAAkBR,SAAlB,CAA2B;AAAA;AAAA;AAAA,SAC1BS,KAD0B,GACnB;AACLC,MAAAA,KAAK,EAAE,EADF;AAELC,MAAAA,UAAU,EAAE,EAFP;AAGLC,MAAAA,IAAI,EAAE,CAHD;AAILC,MAAAA,MAAM,EAAE,KAJH;AAKLC,MAAAA,OAAO,EAAE;AALJ,KADmB;;AAAA,SAmB3BC,SAnB2B,GAmBjB,MAAI;AACbZ,MAAAA,WAAW,GACTa,IADF,CACQL,UAAD,IAAgB;AACpB,aAAKM,QAAL,CAAc;AAACH,UAAAA,OAAO,EAAE;AAAV,SAAd;;AACA,YAAGH,UAAU,CAACO,MAAX,KAAoB,CAAvB,EAAyB;AAC7BjB,UAAAA,KAAK,CAACkB,KAAN,CAAa,iBAAgB,KAAKV,KAAL,CAAWC,KAAM,EAA9C;AACK;;AACD,YAAGC,UAAU,CAACO,MAAX,IAAmB,EAAtB,EAAyB;AACvB,eAAKD,QAAL,CAAc;AAACJ,YAAAA,MAAM,EAAE;AAAT,WAAd;AACD,SAFD,MAEK;AACH,eAAKI,QAAL,CAAc;AAACJ,YAAAA,MAAM,EAAE;AAAT,WAAd;AAA+B;;AACjC,aAAKI,QAAL,CAAeG,SAAD,KACZ;AAACR,UAAAA,IAAI,EAAEQ,SAAS,CAACR,IAAV,GAAiB,CAAxB;AACED,UAAAA,UAAU,EAAE,CAAC,GAAGS,SAAS,CAACT,UAAd,EAA0B,GAAGA,UAA7B;AADd,SADY,CAAd;AAE4D,OAZ/D,EAaEU,KAbF,CAaQF,KAAK,IAAGG,OAAO,CAACC,GAAR,CAAYJ,KAAZ,CAbhB,EAcEK,OAdF,CAcU,MAAM;AAEb,aAAKP,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD,OAjBF;AAkBA,KAtC0B;;AAAA,SAwC1BW,iBAxC0B,GAwCLf,KAAD,IAAS;AAC5B,WAAKO,QAAL,CAAc;AACZP,QAAAA,KAAK,EAAEA,KADK;AAEZE,QAAAA,IAAI,EAAE,CAFM;AAGdD,QAAAA,UAAU,EAAC;AAHG,OAAd,EAD4B,CAM5B;AAEA,KAhDyB;;AAAA,SAkD1Be,eAlD0B,GAkDV,MAAI;AAGpB,WAAKX,SAAL;AAEC,KAvDyB;AAAA;;AAU1BY,EAAAA,kBAAkB,CAACC,SAAD,EAAYR,SAAZ,EAAuB;AACxC,UAAMS,SAAS,GAAGT,SAAS,CAACV,KAA5B;AACA,UAAMoB,SAAS,GAAG,KAAKrB,KAAL,CAAWC,KAA7B;;AACA,QAAImB,SAAS,KAAKC,SAAlB,EAA6B;AAC3B,WAAKf,SAAL;AACC;AAEF;;AA2CDgB,EAAAA,MAAM,GAAE;AACN,UAAM;AAACpB,MAAAA,UAAD;AAAaE,MAAAA,MAAb;AAAqBC,MAAAA;AAArB,QAA+B,KAAKL,KAA1C;AACF,wBACG;AAAA,8BAQD,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,cARC,eASD,QAAC,SAAD;AAAW,QAAA,QAAQ,EAAE,KAAKgB;AAA1B;AAAA;AAAA;AAAA;AAAA,cATC,EAUAd,UAAU,iBACX,QAAC,YAAD;AACC,QAAA,UAAU,EAAGA,UADd;AAEC,QAAA,UAAU,EAAE,KAAKqB;AAFlB;AAAA;AAAA;AAAA;AAAA,cAXC,EAcClB,OAAO,iBAAI,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,cAdZ,EAeCD,MAAM,iBAAI,QAAC,cAAD;AACX,QAAA,OAAO,EAAI,KAAKa;AADL;AAAA;AAAA;AAAA;AAAA,cAfX;AAAA;AAAA;AAAA;AAAA;AAAA,YADH;AAoBD;;AAlF0B;;AAmF1B;AAED,eAAelB,GAAf","sourcesContent":["import { Component} from 'react';\nimport { toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nimport { FetchImages } from './API/Api';\n\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport LoaderSpinner from './Loader/Loader';\n// import Modal from './Modal/Modal';\n\n\nclass App extends Component{\n state ={\n   query: '',\n   imagesList: [],\n   page: 1,\n   button: false,\n   loading: false,\n   \n }\n\n componentDidUpdate(prevProps, prevState) {\n  const prevQuery = prevState.query;\n  const nextQuery = this.state.query;\n  if (prevQuery !== nextQuery) {\n    this.getImages();\n    }\n   \n  }\n\ngetImages=()=>{\n FetchImages()\n  .then((imagesList) => {\n    this.setState({loading: true})\n    if(imagesList.length===0){\ntoast.error(`No images for ${this.state.query}`)\n    }\n    if(imagesList.length>=12){\n      this.setState({button: true})\n    }else{\n      this.setState({button: false})}\n    this.setState((prevState)=>(\n      {page: prevState.page + 1,\n        imagesList: [...prevState.imagesList, ...imagesList]}))})\n  .catch(error=> console.log(error))\n  .finally(() => {\n    \n    this.setState({ loading: false });\n  });\n}\n\n handlerFormSubmit = (query)=>{\n  this.setState({\n    query: query,\n    page: 1,\n  imagesList:[],\n  })\n  // this.getImages()\n  \n }\n\n onLoadMoreClick=()=>{\n\n   \n this.getImages()\n\n }\n\n\n \n \n  render(){\n    const {imagesList, button, loading}= this.state\n  return (\n     <div>\n      {/* {showModal &&\n      //  (<Modal\n      //  onClose={this.toggleModal}>\n      //   <img src={modalImage}\n      //   alt ='largeImg'/>\n      //   </Modal>)\n      //    } */}\n    <ToastContainer />\n    <Searchbar onSubmit={this.handlerFormSubmit}/>\n    {imagesList &&(\n    <ImageGallery\n     imagesList ={imagesList}\n     modalImage={this.openModal}/>)}\n     {loading && <LoaderSpinner />}\n     {button && <ButtonLoadMore \n     onClick = {this.onLoadMoreClick}/>}\n    </div>\n  );\n}\n};\n\nexport default App"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Irynka\\\\Documents\\\\devoveryApp\\\\client\\\\src\\\\components\\\\App.jsx\";\nimport { Component } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { FetchImages } from './API/Api';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport LoaderSpinner from './Loader/Loader';\nimport Modal from './Modal/Modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      query: '',\n      imagesList: [],\n      page: 1,\n      button: false,\n      loading: false,\n      showModal: false,\n      modalImage: ''\n    };\n\n    this.getImages = () => {\n      FetchImages(this.state.query, this.state.page).then(imagesList => {\n        this.setState({\n          loading: true\n        });\n\n        if (imagesList.length === 0) {\n          toast.error(`No images for ${this.state.query}`);\n        }\n\n        if (imagesList.length >= 12) {\n          this.setState({\n            button: true\n          });\n        } else {\n          this.setState({\n            button: false\n          });\n        }\n\n        this.setState(prevState => ({\n          page: prevState.page + 1,\n          imagesList: [...prevState.imagesList, ...imagesList]\n        }));\n      }).catch(error => console.log(error)).finally(() => {\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.handlerFormSubmit = query => {\n      this.setState({\n        query: query,\n        page: 1,\n        imagesList: []\n      }); // this.getImages()\n    };\n\n    this.onLoadMoreClick = () => {\n      this.getImages();\n    };\n\n    this.toggleModal = () => {\n      this.setState(_ref => {\n        let {\n          showModal\n        } = _ref;\n        return {\n          showModal: !showModal\n        };\n      });\n    };\n\n    this.openModal = largeImageURL => {\n      this.setState({\n        modalImage: largeImageURL\n      });\n      this.toggleModal();\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    if (prevQuery !== nextQuery) {\n      this.getImages();\n    }\n  }\n\n  render() {\n    const {\n      imagesList,\n      button,\n      loading,\n      showModal,\n      modalImage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [showModal && /*#__PURE__*/_jsxDEV(Modal, {\n        onClose: this.toggleModal,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: modalImage,\n          alt: \"largeImg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.handlerFormSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }, this), imagesList && /*#__PURE__*/_jsxDEV(ImageGallery, {\n        imagesList: imagesList,\n        modalImage: this.openModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this), loading && /*#__PURE__*/_jsxDEV(LoaderSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 18\n      }, this), button && /*#__PURE__*/_jsxDEV(ButtonLoadMore, {\n        onClick: this.onLoadMoreClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 6\n    }, this);\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["C:/Users/Irynka/Documents/devoveryApp/client/src/components/App.jsx"],"names":["Component","toast","ToastContainer","FetchImages","Searchbar","ImageGallery","ButtonLoadMore","LoaderSpinner","Modal","App","state","query","imagesList","page","button","loading","showModal","modalImage","getImages","then","setState","length","error","prevState","catch","console","log","finally","handlerFormSubmit","onLoadMoreClick","toggleModal","openModal","largeImageURL","componentDidUpdate","prevProps","prevQuery","nextQuery","render"],"mappings":"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","sourcesContent":["import { Component} from 'react';\nimport { toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nimport { FetchImages } from './API/Api';\n\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport LoaderSpinner from './Loader/Loader';\nimport Modal from './Modal/Modal';\n\n\nclass App extends Component{\n state ={\n   query: '',\n   imagesList: [],\n   page: 1,\n   button: false,\n   loading: false,\n   showModal: false,\n   modalImage: ''\n }\n\n componentDidUpdate(prevProps, prevState) {\n  const prevQuery = prevState.query;\n  const nextQuery = this.state.query;\n  if (prevQuery !== nextQuery) {\n    this.getImages();\n    }\n   \n  }\n\ngetImages=()=>{\n FetchImages(this.state.query, this.state.page)\n  .then((imagesList) => {\n    this.setState({loading: true})\n    if(imagesList.length===0){\ntoast.error(`No images for ${this.state.query}`)\n    }\n    if(imagesList.length>=12){\n      this.setState({button: true})\n    }else{\n      this.setState({button: false})}\n    this.setState((prevState)=>(\n      {page: prevState.page + 1,\n        imagesList: [...prevState.imagesList, ...imagesList]}))})\n  .catch(error=> console.log(error))\n  .finally(() => {\n    \n    this.setState({ loading: false });\n  });\n}\n\n handlerFormSubmit = (query)=>{\n  this.setState({\n    query: query,\n    page: 1,\n  imagesList:[],\n  })\n  // this.getImages()\n  \n }\n\n onLoadMoreClick=()=>{\n\n   \n this.getImages()\n\n }\n\n toggleModal=()=>{\n   this.setState(({showModal})=>({\n     showModal: !showModal\n   }))\n }\n\n openModal=(largeImageURL)=>{\n   this.setState({\n     modalImage: largeImageURL\n   })\n   this.toggleModal()\n }\n \n \n  render(){\n    const {imagesList, button, loading, showModal, modalImage}= this.state\n  return (\n     <div>\n      {showModal &&\n       (<Modal\n       onClose={this.toggleModal}>\n        <img src={modalImage}\n        alt ='largeImg'/>\n        </Modal>)\n         }\n    <ToastContainer />\n    <Searchbar onSubmit={this.handlerFormSubmit}/>\n    {imagesList &&(\n    <ImageGallery\n     imagesList ={imagesList}\n     modalImage={this.openModal}/>)}\n     {loading && <LoaderSpinner />}\n     {button && <ButtonLoadMore \n     onClick = {this.onLoadMoreClick}/>}\n    </div>\n  );\n}\n};\n\nexport default App"]},"metadata":{},"sourceType":"module"}
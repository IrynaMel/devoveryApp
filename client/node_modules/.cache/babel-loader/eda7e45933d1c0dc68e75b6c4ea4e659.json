{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Irynka\\\\Documents\\\\devoveryApp\\\\client\\\\src\\\\views\\\\cartView.js\",\n    _s = $RefreshSig$();\n\nimport { addToCart, removeFromCard } from 'redux/products/productsSlice';\nimport { useSelector } from 'react-redux'; // import get from '../components/API/Api';\n\nimport { useDispatch } from 'react-redux';\nimport { useState } from 'react';\nimport get from '../API/Api';\nimport Cart from '../components/Cart/Cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CartView = () => {\n  _s();\n\n  const [state, setState] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    address: ''\n  });\n  const products = useSelector(state => state.Cart);\n  const dispatch = useDispatch();\n\n  const onChange = e => {\n    setState(prevState => {\n      return { ...prevState,\n        [e.target.name]: e.target.value\n      };\n    });\n  };\n\n  const result = products.map(item => Number(item.price) * Number(item.qty));\n  const total = result.reduce((sum, elm) => sum + elm, 0);\n\n  const onOrder = e => {\n    e.preventDefault();\n    const order = { ...state,\n      products,\n      total\n    };\n    console.log(order);\n    get.makeOrder(order);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Cart, {\n      onOrder: onOrder,\n      state: state,\n      onChange: onChange,\n      total: total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), products.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"your cart is empty\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"leave your contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onOrder,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [' ', \"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"name\",\n              value: state.name,\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [' ', \"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"email\",\n              value: state.email,\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [' ', \"Phone\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"phone\",\n              value: state.phone,\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [' ', \"Address\", /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"address\",\n              value: state.address,\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), products.map(_ref => {\n          let {\n            _id,\n            price,\n            name,\n            shop,\n            qty,\n            image\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: qty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: name,\n              width: \"150px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => dispatch(addToCart({\n                _id,\n                name,\n                price,\n                shop,\n                image\n              })),\n              children: \"^\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => dispatch(removeFromCard({\n                _id,\n                name,\n                price,\n                shop,\n                image\n              })),\n              children: [' ', \"less\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this)]\n          }, _id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CartView, \"jadPLiYwqVVIc2nJyGftEhZDTJ4=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = CartView;\nexport default CartView;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartView\");","map":{"version":3,"sources":["C:/Users/Irynka/Documents/devoveryApp/client/src/views/cartView.js"],"names":["addToCart","removeFromCard","useSelector","useDispatch","useState","get","Cart","CartView","state","setState","name","email","phone","address","products","dispatch","onChange","e","prevState","target","value","result","map","item","Number","price","qty","total","reduce","sum","elm","onOrder","preventDefault","order","console","log","makeOrder","length","_id","shop","image"],"mappings":"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","sourcesContent":["import { addToCart, removeFromCard } from 'redux/products/productsSlice';\r\nimport { useSelector } from 'react-redux';\r\n// import get from '../components/API/Api';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useState } from 'react';\r\nimport get from '../API/Api';\r\nimport Cart from '../components/Cart/Cart';\r\n\r\nconst CartView = () => {\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n  });\r\n\r\n  const products = useSelector(state => state.Cart);\r\n  const dispatch = useDispatch();\r\n\r\n  const onChange = e => {\r\n    setState(prevState => {\r\n      return { ...prevState, [e.target.name]: e.target.value };\r\n    });\r\n  };\r\n\r\n  const result = products.map(item => Number(item.price) * Number(item.qty));\r\n  const total = result.reduce((sum, elm) => sum + elm, 0);\r\n  const onOrder = e => {\r\n    e.preventDefault();\r\n    const order = {\r\n      ...state,\r\n      products,\r\n      total,\r\n    };\r\n    console.log(order);\r\n    get.makeOrder(order);\r\n  };\r\n  return (\r\n    <>\r\n      <Cart onOrder={onOrder} state={state} onChange={onChange} total={total} />\r\n      {products.length === 0 ? (\r\n        <p>your cart is empty</p>\r\n      ) : (\r\n        <div>\r\n          <h3>leave your contact</h3>\r\n          <form onSubmit={onOrder}>\r\n            <div>\r\n              <label>\r\n                {' '}\r\n                Name\r\n                <input name=\"name\" value={state.name} onChange={onChange} />\r\n              </label>\r\n              <label>\r\n                {' '}\r\n                Email\r\n                <input name=\"email\" value={state.email} onChange={onChange} />\r\n              </label>\r\n              <label>\r\n                {' '}\r\n                Phone\r\n                <input name=\"phone\" value={state.phone} onChange={onChange} />\r\n              </label>\r\n              <label>\r\n                {' '}\r\n                Address\r\n                <input\r\n                  name=\"address\"\r\n                  value={state.address}\r\n                  onChange={onChange}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            {products.map(({ _id, price, name, shop, qty, image }) => {\r\n              return (\r\n                <li key={_id}>\r\n                  <p>{name}</p>\r\n                  <p>{qty}</p>\r\n                  <p>{price}</p>\r\n                  <img src={image} alt={name} width=\"150px\" />\r\n                  <button\r\n                    onClick={() =>\r\n                      dispatch(addToCart({ _id, name, price, shop, image }))\r\n                    }\r\n                  >\r\n                    ^\r\n                  </button>\r\n                  <button\r\n                    onClick={() =>\r\n                      dispatch(\r\n                        removeFromCard({ _id, name, price, shop, image })\r\n                      )\r\n                    }\r\n                  >\r\n                    {' '}\r\n                    less\r\n                  </button>\r\n                </li>\r\n              );\r\n            })}\r\n            <p>{total}</p>\r\n            <button type=\"submit\">Order</button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartView;\r\n"]},"metadata":{},"sourceType":"module"}